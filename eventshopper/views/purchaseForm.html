<div ng-controller="PurchaseEventCtrl">
    <p>Purchase tickets for {{event.title}}</p>

    <div ng-if="countdown.timeLeft > 0">You have {{countdown.timeLeft}} seconds to purchase the event.</div>
    <div ng-if="countdown.timeLeft <= 0">Sorry, you ran out of time. Please start over.</div>

    <form role="form" name="buyEventForm" novalidate ng-if="purchaseEnabled">
        <div class="form-group">
            <label for="numTickets"> Number of Tickets:</label>
            <select ng-model="numTickets" id="numTickets" class="form-control" required>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
        </div>
        <div class="form-group">
            <label for="firstName">First Name</label>
            <input ng-model="user.firstName" type="text" class="form-control" id="firstName" placeholder="First name" required>
        </div>
        <div class="form-group">
            <label for="lastName">Password</label>
            <input ng-model="user.lastName" type="text" class="form-control" id="lastName" placeholder="Last name" required>
        </div>
        <div class="form-group">
            <label for="email">Email address</label>
            <input ng-model="user.email" type="email" class="form-control" id="email" placeholder="Enter your email" required>
        </div>
        <div class="form-group">
            <label for="confirmEmail">Confirm email</label>
            <input ng-model="user.emailConfirm" type="email" class="form-control" id="confirmEmail" placeholder="Confirm your email" match="user.email" required>
        </div>
        <button ng-click="buyEvent()"
                ng-disabled="buyEventForm.$invalid || isUnchanged(user)" class="btn btn-default">Buy</button>
    </form>
</div>
